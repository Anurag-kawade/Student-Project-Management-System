<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Signup</title>
  <link rel="stylesheet" href="/css/signup.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="/node_modules/toastr/build/toastr.min.css">
  <script src="/node_modules/toastr/build/toastr.min.js"></script>
</head>

<body>

  <header>
    <div class="logo-container">
      <img src="/images/IIITP_Logo.jpeg" alt="IIITP Logo" class="logo-img">
      <h1>Student Project Management</h1>
    </div>
    <nav>
      <a href="/">Home</a>
      <a href="/about">About</a>
      <a href="/contact">Contact</a>
    </nav>
  </header>

  <div id="main">

    <!-- sidebar start-->
    <div class="sidebar">

      <br>

      <div class="student outer_options">
        <div class="sidebar_content user">
          <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
              fill="#e8eaed">
              <path
                d="M480-481q-66 0-108-42t-42-108q0-66 42-108t108-42q66 0 108 42t42 108q0 66-42 108t-108 42ZM160-220v-34q0-38 19-65t49-41q67-30 128.5-45T480-420q62 0 123 15.5t127.92 44.69q31.3 14.13 50.19 40.97Q800-292 800-254v34q0 24.75-17.62 42.37Q764.75-160 740-160H220q-24.75 0-42.37-17.63Q160-195.25 160-220Zm60 0h520v-34q0-16-9.5-30.5T707-306q-64-31-117-42.5T480-360q-57 0-111 11.5T252-306q-14 7-23 21.5t-9 30.5v34Zm260-321q39 0 64.5-25.5T570-631q0-39-25.5-64.5T480-721q-39 0-64.5 25.5T390-631q0 39 25.5 64.5T480-541Zm0-90Zm0 411Z" />
            </svg></span>
          <span class="student_heading"><b>Student</b></span>
        </div>
        <a href="/student/signup">
          <div class="option sidebar_content " id="student_signup">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                width="24px" fill="#e8eaed">
                <path
                  d="M480-240q-56 0-107 17.5T280-170v10h400v-10q-42-35-93-52.5T480-240Zm0-80q69 0 129 21t111 59v-560H240v560q51-38 111-59t129-21Zm0-160q-25 0-42.5-17.5T420-540q0-25 17.5-42.5T480-600q25 0 42.5 17.5T540-540q0 25-17.5 42.5T480-480ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h480q33 0 56.5 23.5T800-800v640q0 33-23.5 56.5T720-80H240Zm240-320q58 0 99-41t41-99q0-58-41-99t-99-41q-58 0-99 41t-41 99q0 58 41 99t99 41Zm0-140Z" />
              </svg></span>
            <span>Create Account</span>
          </div>
        </a>
        <a href="/student/login">
          <div class="option sidebar_content" id="student_login">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                width="24px" fill="#e8eaed">
                <path
                  d="M520-120q-17 0-28.5-11.5T480-160q0-17 11.5-28.5T520-200h240v-560H520q-17 0-28.5-11.5T480-800q0-17 11.5-28.5T520-840h240q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H520Zm-73-320H160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L429-309q-12 12-28.5 11.5T372-310q-11-12-10.5-28.5T373-366l74-74Z" />
              </svg></span>
            <span>Log In</span>
          </div>
        </a>

      </div>

      <div class="staff outer_options">
        <div class="sidebar_content user">
          <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
              fill="#e8eaed">
              <path
                d="M480-481q-66 0-108-42t-42-108q0-66 42-108t108-42q66 0 108 42t42 108q0 66-42 108t-108 42ZM160-220v-34q0-38 19-65t49-41q67-30 128.5-45T480-420q62 0 123 15.5t127.92 44.69q31.3 14.13 50.19 40.97Q800-292 800-254v34q0 24.75-17.62 42.37Q764.75-160 740-160H220q-24.75 0-42.37-17.63Q160-195.25 160-220Zm60 0h520v-34q0-16-9.5-30.5T707-306q-64-31-117-42.5T480-360q-57 0-111 11.5T252-306q-14 7-23 21.5t-9 30.5v34Zm260-321q39 0 64.5-25.5T570-631q0-39-25.5-64.5T480-721q-39 0-64.5 25.5T390-631q0 39 25.5 64.5T480-541Zm0-90Zm0 411Z" />
            </svg></span>
          <span class="staff_heading"><b>PhD Scholar / Staff</b></span>
        </div>
        <a href="/staff/signup">
          <div class="option sidebar_content  " id="staff_signup">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                width="24px" fill="#e8eaed">
                <path
                  d="M480-240q-56 0-107 17.5T280-170v10h400v-10q-42-35-93-52.5T480-240Zm0-80q69 0 129 21t111 59v-560H240v560q51-38 111-59t129-21Zm0-160q-25 0-42.5-17.5T420-540q0-25 17.5-42.5T480-600q25 0 42.5 17.5T540-540q0 25-17.5 42.5T480-480ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h480q33 0 56.5 23.5T800-800v640q0 33-23.5 56.5T720-80H240Zm240-320q58 0 99-41t41-99q0-58-41-99t-99-41q-58 0-99 41t-41 99q0 58 41 99t99 41Zm0-140Z" />
              </svg></span>
            <span>Create Account</span>
          </div>
        </a>
        <a href="/staff/login">
          <div class="option sidebar_content " id="staff_login">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                width="24px" fill="#e8eaed">
                <path
                  d="M520-120q-17 0-28.5-11.5T480-160q0-17 11.5-28.5T520-200h240v-560H520q-17 0-28.5-11.5T480-800q0-17 11.5-28.5T520-840h240q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H520Zm-73-320H160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L429-309q-12 12-28.5 11.5T372-310q-11-12-10.5-28.5T373-366l74-74Z" />
              </svg></span>
            <span>Log In</span>
          </div>
        </a>
      </div>

      <div class="faculty outer_options">
        <div class="sidebar_content user">
          <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
              fill="#e8eaed">
              <path
                d="M480-481q-66 0-108-42t-42-108q0-66 42-108t108-42q66 0 108 42t42 108q0 66-42 108t-108 42ZM160-220v-34q0-38 19-65t49-41q67-30 128.5-45T480-420q62 0 123 15.5t127.92 44.69q31.3 14.13 50.19 40.97Q800-292 800-254v34q0 24.75-17.62 42.37Q764.75-160 740-160H220q-24.75 0-42.37-17.63Q160-195.25 160-220Zm60 0h520v-34q0-16-9.5-30.5T707-306q-64-31-117-42.5T480-360q-57 0-111 11.5T252-306q-14 7-23 21.5t-9 30.5v34Zm260-321q39 0 64.5-25.5T570-631q0-39-25.5-64.5T480-721q-39 0-64.5 25.5T390-631q0 39 25.5 64.5T480-541Zm0-90Zm0 411Z" />
            </svg></span>
          <span class="faculty_heading"><b>Faculty</b></span>
        </div>
        <a href="/faculty/login">
          <div class="option sidebar_content  " id="faculty_login">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                width="24px" fill="#e8eaed">
                <path
                  d="M520-120q-17 0-28.5-11.5T480-160q0-17 11.5-28.5T520-200h240v-560H520q-17 0-28.5-11.5T480-800q0-17 11.5-28.5T520-840h240q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H520Zm-73-320H160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L429-309q-12 12-28.5 11.5T372-310q-11-12-10.5-28.5T373-366l74-74Z" />
              </svg></span>
            <span>Log In</span>
          </div>
        </a>
      </div>

      <div class="admin outer_options">
        <div class="sidebar_content user">
          <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
              fill="#e8eaed">
              <path
                d="M480-481q-66 0-108-42t-42-108q0-66 42-108t108-42q66 0 108 42t42 108q0 66-42 108t-108 42ZM160-220v-34q0-38 19-65t49-41q67-30 128.5-45T480-420q62 0 123 15.5t127.92 44.69q31.3 14.13 50.19 40.97Q800-292 800-254v34q0 24.75-17.62 42.37Q764.75-160 740-160H220q-24.75 0-42.37-17.63Q160-195.25 160-220Zm60 0h520v-34q0-16-9.5-30.5T707-306q-64-31-117-42.5T480-360q-57 0-111 11.5T252-306q-14 7-23 21.5t-9 30.5v34Zm260-321q39 0 64.5-25.5T570-631q0-39-25.5-64.5T480-721q-39 0-64.5 25.5T390-631q0 39 25.5 64.5T480-541Zm0-90Zm0 411Z" />
            </svg></span>
          <span class="admin_heading"><b>Admin</b></span>
        </div>
        <a href="/admin/login">
          <div class="option sidebar_content  " id="admin_login">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                width="24px" fill="#e8eaed">
                <path
                  d="M520-120q-17 0-28.5-11.5T480-160q0-17 11.5-28.5T520-200h240v-560H520q-17 0-28.5-11.5T480-800q0-17 11.5-28.5T520-840h240q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H520Zm-73-320H160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L429-309q-12 12-28.5 11.5T372-310q-11-12-10.5-28.5T373-366l74-74Z" />
              </svg></span>
            <span>Log In</span>
          </div>
        </a>
      </div>
    </div>
    <!-- sidebar end-->

    <!-- Student Signup Page Start -->
    <div id="student_signup_page" class="form">
      <form action="/student/signup" method="POST" onsubmit="return validateForm()">
        <div class="card2">
          <div class="headline">
            <h2>Student Registration</h2>
            <hr />
          </div>

          <div class="content">
            <div class="nameDetails">
              <label for="first_name"><b>First Name</b></label>
              <input type="text" placeholder="First Name" id="first_name" name="first_name" required />

              <label for="last_name"><b>Last Name</b></label>
              <input type="text" placeholder="Last Name" id="last_name" name="last_name" required />
            </div>
          </div>

          <div class="content form-group">
            <label for="degree">Degree</label>
            <select id="degree" name="degree" onchange="handleDegreeChange()" required>
              <option value="">Select Degree</option>
              <option value="BTech">BTech</option>
              <option value="MTech">MTech</option>
              <option value="PhD">PhD</option>
            </select>
          </div>

          <div class="content form-group" id="branchField" style="display: none;">
            <label for="branch">Branch</label>
            <select id="branch" name="branch">
              <option value="">Select Branch</option>
              <option value="CSE">Computer Science Engineering</option>
              <option value="ECE">Electronics and Communication Engineering</option>
            </select>
          </div>

          <div class="content form-group" id="semesterField" style="display: none;">
            <label for="semester">Semester</label>
            <select id="semester" name="semester">
              <option value="">Select Semester</option>
            </select>
          </div>

          <div class="content">
            <label for="mis_number"><b>MIS Number</b></label>
            <input type="text" placeholder="Enter MIS number" id="mis_number" name="mis_number" class="input"
              required />
          </div>

          <div class="content">
            <label for="contact_number"><b>Contact</b></label>
            <input type="tel" placeholder="Enter Phone number" class="input" id="contact_number" name="contact_number"
              pattern="[0-9]{10}" maxlength="10" required />
          </div>

          <div class="content">
            <label for="email"><b>Institute Email</b></label>
            <input type="email" placeholder="Enter institute email" class="input" id="email" name="email" required />
          </div>

          <div class="content">
            <label for="password"><b>Create Password</b></label>
            <input type="password" placeholder="Enter your password" id="password" name="password"
              class="password input" minlength="8" required oninput="checkPasswordMatch()" />
          </div>

          <div class="content">
            <label for="confirm_password"><b>Confirm Password</b></label>
            <input type="password" name="confirm_password" id="confirm_password" placeholder="Re-enter your password"
              class="password input" minlength="8" required oninput="checkPasswordMatch()" />
            <small id="password_error" style="color: red; display: none;">Passwords do not match</small>
          </div>

          <div class="btn">
            <button class="animated-button">Register</button>
          </div>
        </div>
      </form>
    </div>
    <!-- Student Signup Page End -->

    <script>
      function checkPasswordMatch() {
        let password = document.getElementById("password").value;
        let confirmPassword = document.getElementById("confirm_password").value;
        let errorMessage = document.getElementById("password_error");

        if (password !== confirmPassword) {
          errorMessage.style.display = "block";
        } else {
          errorMessage.style.display = "none";
        }
      }

      function validateForm() {
        let password = document.getElementById("password").value;
        let confirmPassword = document.getElementById("confirm_password").value;
        if (password !== confirmPassword) {
          alert("Passwords do not match!");
          return false;
        }
        return true;
      }


      function handleDegreeChange() {
        const degree = document.getElementById("degree").value;
        const branchField = document.getElementById("branchField");
        const semesterField = document.getElementById("semesterField");
        const semesterSelect = document.getElementById("semester");

        if (degree === "PhD") {
          branchField.style.display = "none";
          semesterField.style.display = "none";
        } else if (degree === "BTech") {
          branchField.style.display = "block";
          semesterField.style.display = "block";
          populateSemesters(8); // BTech has 8 semesters
        } else if (degree === "MTech") {
          branchField.style.display = "block";
          semesterField.style.display = "block";
          populateSemesters(4); // MTech has 4 semesters
        } else {
          branchField.style.display = "none";
          semesterField.style.display = "none";
        }
      }

      function populateSemesters(totalSemesters) {
        const semesterSelect = document.getElementById("semester");
        semesterSelect.innerHTML = ""; // Clear existing options
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.text = "Select Semester";
        semesterSelect.appendChild(defaultOption);

        for (let i = 1; i <= totalSemesters; i++) {
          const option = document.createElement("option");
          option.value = i;
          option.text = `Semester ${i}`;
          semesterSelect.appendChild(option);
        }
      }

      function handleDegreeChange() {
        const degree = document.getElementById("degree").value;
        const branchField = document.getElementById("branchField");
        const semesterField = document.getElementById("semesterField");
        const semesterSelect = document.getElementById("semester");

        // Remove existing classes first
        branchField.classList.remove("show");
        semesterField.classList.remove("show");

        if (degree === "PhD") {
          branchField.style.display = "none";
          semesterField.style.display = "none";
        } else if (degree === "BTech" || degree === "MTech") {
          branchField.style.display = "block";
          semesterField.style.display = "block";

          // Add a slight delay before adding the show class for animation
          setTimeout(() => {
            branchField.classList.add("show");
            semesterField.classList.add("show");
          }, 10);

          if (degree === "BTech") {
            populateSemesters(8);
          } else {
            populateSemesters(4);
          }
        } else {
          branchField.style.display = "none";
          semesterField.style.display = "none";
        }
      }
    </script>

    <% if (typeof toastrErrorMessage !== 'undefined') { %>
      <script>
        toastr.error('<%= toastrErrorMessage %>', 'Error', {
          positionClass: 'toast-top-right',
          closeButton: true,
          progressBar: true,
          timeOut: 5000,
        });
      </script>
    <% } %>   
    
    <% if (typeof toastrSuccessMessage !== 'undefined') { %>
      <script>
        toastr.success('<%= toastrSuccessMessage %>', 'Success', {
          positionClass: 'toast-top-right',
          closeButton: true,
          progressBar: true,
          timeOut: 5000,
        });
      </script>
    <% } %>
</body>

</html>